(self.webpackChunkwiki_docusaurus=self.webpackChunkwiki_docusaurus||[]).push([[3590],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return V}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=r.createContext({}),m=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=m(e.components);return r.createElement(u.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},s=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=m(t),V=a,f=s["".concat(u,".").concat(V)]||s[V]||c[V]||o;return t?r.createElement(f,i(i({ref:n},p),{},{components:t})):r.createElement(f,i({ref:n},p))}));function V(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=s;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var m=2;m<o;m++)i[m]=t[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}s.displayName="MDXCreateElement"},2727:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return i},metadata:function(){return l},toc:function(){return u},default:function(){return p}});var r=t(2122),a=t(9756),o=(t(7294),t(3905)),i={id:"STM32\u9ea6\u8f6e\u5c0f\u8f66",title:"STM32 \u9ea6\u8f6e\u5c0f\u8f66"},l={unversionedId:"archive/STM32\u9ea6\u8f6e\u5c0f\u8f66",id:"archive/STM32\u9ea6\u8f6e\u5c0f\u8f66",isDocsHomePage:!1,title:"STM32 \u9ea6\u8f6e\u5c0f\u8f66",description:"\u80cc\u666f",source:"@site/docs/archive/STM32\u9ea6\u8f6e\u5c0f\u8f66.md",sourceDirName:"archive",slug:"/archive/STM32\u9ea6\u8f6e\u5c0f\u8f66",permalink:"/Wiki_Docusaurus/archive/STM32\u9ea6\u8f6e\u5c0f\u8f66",editUrl:"https://github.com/worst0/Wiki_Docusaurus/edit/main/docs/archive/STM32\u9ea6\u8f6e\u5c0f\u8f66.md",version:"current",lastUpdatedAt:1613131328,formattedLastUpdatedAt:"2/12/2021",frontMatter:{id:"STM32\u9ea6\u8f6e\u5c0f\u8f66",title:"STM32 \u9ea6\u8f6e\u5c0f\u8f66"}},u=[{value:"\u80cc\u666f",id:"\u80cc\u666f",children:[]},{value:"STM32 \u57fa\u7840",id:"stm32-\u57fa\u7840",children:[]},{value:"\u8fd0\u52a8\u5b66\u539f\u7406",id:"\u8fd0\u52a8\u5b66\u539f\u7406",children:[]},{value:"FAQ",id:"faq",children:[]},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",children:[]},{value:"\u53c2\u8003\u4e0e\u81f4\u8c22",id:"\u53c2\u8003\u4e0e\u81f4\u8c22",children:[]}],m={toc:u};function p(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u80cc\u666f"},"\u80cc\u666f"),(0,o.kt)("p",null,"\u91ce\u72fc\u961f\u5728\u5bd2\u5047\u51c6\u5907\u6765\u4e00\u573a\u6821\u5185\u8d5b\uff0c\u628a\u5927\u4e00\u65b0\u751f\u5206\u4e86\u51e0\u4e2a\u961f\uff0c\u5206\u522b\u505a\u81ea\u5df1\u7684\u5c0f\u8f66\uff0c\u6700\u7ec8\u4f1a\u6709\u7c7b\u4f3c\u8e22\u8db3\u7403\u7684\u6bd4\u8d5b\u3002\u4e3a\u4e86\u80fd\u6709\u826f\u597d\u7684\u64cd\u63a7\u6027\u548c\u7075\u6d3b\u5ea6\uff0c\u6211\u6253\u7b97\u7ed9\u5c0f\u8f66\u76f4\u63a5\u4e0a\u9ea6\u8f6e\u3002"),(0,o.kt)("h2",{id:"stm32-\u57fa\u7840"},"STM32 \u57fa\u7840"),(0,o.kt)("p",null,"\u6a21\u5757\u77e5\u8bc6\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u5916\u90e8\u4e2d\u65ad"),(0,o.kt)("li",{parentName:"ul"},"\u4e32\u53e3"),(0,o.kt)("li",{parentName:"ul"},"SysTick \u5b9a\u65f6\u5668"),(0,o.kt)("li",{parentName:"ul"},"TIM \u9ad8\u7ea7\u5b9a\u65f6\u5668"),(0,o.kt)("li",{parentName:"ul"},"\u9a71\u52a8\u8235\u673a"),(0,o.kt)("li",{parentName:"ul"},"\u9a71\u52a8\u7535\u673a\uff0c\u5b9e\u73b0\u8c03\u901f"),(0,o.kt)("li",{parentName:"ul"},"\u7f16\u7801\u5668"),(0,o.kt)("li",{parentName:"ul"},"\u9065\u63a7\uff08PS2\uff09")),(0,o.kt)("h2",{id:"\u8fd0\u52a8\u5b66\u539f\u7406"},"\u8fd0\u52a8\u5b66\u539f\u7406"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/%E9%BA%A6%E8%BD%AE%E3%80%82png",alt:null})),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/%E9%BA%A6%E8%BD%AE%E8%A7%92%E5%BA%A6%E3%80%82png",alt:null})),(0,o.kt)("p",null,"\u8fd9\u662f\u6211\u81ea\u5df1\u63a8\u5bfc\u51fa\u6765\u7684\u9ea6\u8f6e\u7b97\u6cd5\uff0c\u7ffb\u8bd1\u6210\u4ee3\u7801\u662f\u8fd9\u6837\u7684\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c"},"void M_process(s16 x,s16 y) { //\u4f20\u5165\u5de6\u6447\u6746 L(x,y) \u5750\u6807\n    const double Pi = 3.14159265359;\n    u16 Vm=7200,r=127; //\u5b9a\u4e49\u6700\u5927\u901f\u5ea6\u548c\u5750\u6807\u5706\u7684\u534a\u5f84\n    s16 V1,V2,V3,V4,angle; //\u5b9a\u4e49\u56db\u7535\u673a\u901f\u5ea6\uff0c\u76f4\u7ebf OL \u4e0e x \u8f74\u6240\u6210\u89d2\u5ea6\n    s16 new_x,new_y; //\u5b9a\u4e49\u4e2d\u95f4\u53d8\u91cf\n\n    //\u7ea0\u6b63\u7b97\u6cd5\uff0c\u5982\u679c L \u5750\u6807\u8d85\u51fa\u4e86\u5750\u6807\u5706\uff0c\u90a3\u4e48\u53d6\u5728\u5750\u6807\u5706\u4e0a\u7684\u70b9\u3002\u8054\u7acb\u5706\u548c\u6b63\u6bd4\u4f8b\u51fd\u6570\u7684\u65b9\u7a0b\n    if(pow(x,2)+pow(y,2)>pow(r,2)) {\n        new_x=sqrt((pow(x,2)*pow(r,2))/(pow(x,2)+pow(y,2)));\n        new_y=sqrt((pow(y,2)*pow(r,2))/(pow(x,2)+pow(y,2)));\n        if(x>0) x=new_x ; else x=-new_x;\n        if(y>0) y=new_y ; else y=-new_y;\n    }\n\n    Vm=(sqrt(pow(x,2)+pow(y,2))/r)*Vm; //\u6309 OL \u957f\u5ea6\u6bd4\u4f8b\u53d6\u901f\u5ea6\n    angle=atan(abs(y)/abs(x))*(180/Pi); //\u8ba1\u7b97\u76f4\u7ebf OL \u4e0e x \u8f74\u6240\u6210\u89d2\u5ea6\n    if(x==0&&y==0) { //\u539f\u70b9\n        V1=0; V2=0; V3=0; V4=0;\n    }\n    if(y==0) { //x \u8f74\u4e0a\n        if(x>0){\n            V1=Vm; V2=-Vm; V3=-Vm; V4=Vm;\n        }else{\n            V1=-Vm; V2=Vm; V3=Vm; V4=-Vm;\n        }\n    }\n    if(x==0) { //y \u8f74\u4e0a\n        if(y>0) {\n            V1=Vm; V2=Vm; V3=Vm; V4=Vm;\n        }else{\n            V1=-Vm; V2=-Vm; V3=-Vm; V4=-Vm;\n        }\n    }\n    if(x>0&&y>0) { //\u7b2c\u4e00\u8c61\u9650\n        V1=Vm;\n        V2=(Vm/45)*angle-Vm;\n        V3=(Vm/45)*angle-Vm;\n        V4=Vm;\n    }\n    if(x<0&&y>0) { //\u7b2c\u4e8c\u8c61\u9650\n        V1=(Vm/45)*angle-Vm;\n        V2=Vm;\n        V3=Vm;\n        V4=(Vm/45)*angle-Vm;\n    }\n    if(x<0&&y<0) { //\u7b2c\u4e09\u8c61\u9650\n        V1=-Vm;\n        V2=-(Vm/45)*angle+Vm;\n        V3=-(Vm/45)*angle+Vm;\n        V4=-Vm;\n    }\n    if(x>0&&y<0) { //\u7b2c\u56db\u8c61\u9650\n        V1=-(Vm/45)*angle+Vm;\n        V2=-Vm;\n        V3=-Vm;\n        V4=-(Vm/45)*angle+Vm;\n    }\n\n    //\u9a71\u52a8\u7535\u673a\n    M1_run(V1);\n    M2_run(V2);\n    M3_run(V3);\n    M4_run(V4);\n}\n")),(0,o.kt)("p",null,"\u4ee3\u7801\u4e0d\u7b97\u7cbe\u7b80\u3002\u56e0 PS2 \u624b\u67c4\u8fd8\u6ca1\u9001\u5230\uff0c\u6240\u4ee5\u6682\u65f6\u53ea\u6709\u5de6\u6447\u6746\u7684\u7b97\u6cd5\uff08\u4efb\u610f\u65b9\u5411\u79fb\u52a8\uff09\uff0c\u5f85\u6d4b\u8bd5\u540e\u518d\u52a0\u4e0a\u53f3\u6447\u6746\uff08\u81ea\u8f6c\uff09\u3002\u5c31\u5148\u8fd9\u6837\u5427\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/%E5%B0%8F%E8%BD%A6%E9%A2%84%E8%A7%88%20.jpg",alt:null})),(0,o.kt)("h2",{id:"faq"},"FAQ"),(0,o.kt)("p",null,"\u5f85\u8865\u5145\u3002"),(0,o.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,o.kt)("p",null,"\u5f85\u8865\u5145\u3002"),(0,o.kt)("h2",{id:"\u53c2\u8003\u4e0e\u81f4\u8c22"},"\u53c2\u8003\u4e0e\u81f4\u8c22"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.instructables.com/id/Mecanum-wheel-robot-bluetooth-controlled/"},"Mecanum Wheel Robot - Bluetooth Controlled")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://image.hanspub.org/Html/11-1540843_22169.htm"},"Design of Omnidirectional Mobile Platform Control System Based on STM32 CAN Bus Control"))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u6587\u7ae0\u4f5c\u8005\uff1a",(0,o.kt)("strong",{parentName:"p"},"Power Lin"),(0,o.kt)("br",{parentName:"p"}),"\n","\u539f\u6587\u5730\u5740\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://wiki-power.com"},"https://wiki-power.com"),(0,o.kt)("br",{parentName:"p"}),"\n","\u7248\u6743\u58f0\u660e\uff1a\u6587\u7ae0\u91c7\u7528 ",(0,o.kt)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by/4.0/deed.zh"},"CC BY-NC-SA 4.0")," \u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002")))}p.isMDXComponent=!0}}]);